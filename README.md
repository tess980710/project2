# 식당 예약 시스템

### 프로젝트 개발기간
2024-11-20~2024-11-28

## 프로젝트 설명
이 프로젝트는 사용자가 식당을 예약하고, 식당의 점주가 예약된 손님을 관리할 수 있는 식당 예약 시스템입니다.
관리자는 시스템의 모든 권한을 가지고 있으며, 식당 등록, 관리자 권한 박탈, 예약 관리 등을 처리할 수 있습니다.
점주는 자신이 운영하는 식당에 대한 예약 내역을 확인하고, 해당 식당의 정보를 수정하거나 삭제할 수 있으며 가게등록 또한 가능합니다. 
회원은 등록된 식당을 조회하고 예약을 진행할 수 있습니다.



## 역할별 기능

### 1. 회원 (User)
- 식당 조회: 등록된 식당을 확인하고, 예약 가능한 식당을 선택합니다.
- 예약 생성: 선택한 식당에 예약을 생성할 수 있습니다.
- 예약 확인: 예약한 내역을 확인할 수 있습니다.

### 2. 점주 (Store Owner)
- 내 식당 관리: 자신이 운영하는 식당의 정보를 등록, 수정, 삭제할 수 있습니다.
- 예약 내역 확인: 본인이 운영하는 식당에 예약한 손님들을 확인할 수 있습니다.
- 예약 취소: 예약된 손님의 예약을 취소할 수 있습니다.
- 메일 확인: 고객이 예약을 진행하면 고객의 이름, 전화번호, 가게이름, 예약날짜가 포함된 메일을 받을 수 있습니다.
### 3. 관리자 (Admin)
- 모든 권한 보유: 관리자는 시스템의 모든 권한을 보유하고 있습니다.
- 회원 관리: 새 회원을 등록하고, 기존 회원의 정보를 수정하거나 삭제할 수 있습니다.
- 식당 관리: 모든 식당을 등록, 수정, 삭제할 수 있습니다.
- 예약 내역 관리: 어떤 식당에 어떤 회원이 예약을 했는지 확인하고 관리할 수 있습니다.
- 예약 취소: 관리자는 예약된 손님들의 예약을 취소할 수 있습니다.
- 관리자 권한 부여/박탈: 관리자 권한을 다른 사용자에게 부여하거나, 기존 관리자의 권한을 박탈할 수 있습니다.
- 메일 확인: 고객이 예약을 진행하면 고객의 이름, 전화번호, 가게이름, 예약날짜가 포함된 메일을 받을 수 있습니다.
## 기능

- 회원가입: 사용자는 회원가입을 통해 시스템에 등록할 수 있습니다.
- 로그인: 사용자는 로그인하여 시스템에 접근할 수 있습니다.
- 식당 예약: 회원은 등록된 식당을 선택하고 예약을 진행할 수 있습니다.
- 식당 등록, 수정, 삭제: 점주는 자신이 운영하는 식당을 관리할 수 있습니다.
- 예약 취소: 점주 및 관리자는 예약된 손님의 예약을 취소할 수 있습니다.
- 관리자 권한 관리: 관리자는 다른 사용자에게 관리자 권한을 부여하거나 박탈할 수 있습니다.
- 메일 발송 : 식당 예약시 관리자에게 예약자명 가게이름이 전송 됩니다. 또한 로그인시 로그인 시도를 했다는 메일이 발송됩니다.

## 사용법

### 1. 회원
- 식당 목록을 확인하고 예약을 진행합니다.
- 예약 내역을 확인할 수 있습니다.

### 2. 점주
- 자신이 운영하는 식당의 예약 내역을 확인하고, 예약을 취소할 수 있습니다.
- 식당 정보를 등록하거나 수정할 수 있습니다.

### 3. 관리자
- 모든 식당 및 예약 내역을 확인하고 관리할 수 있습니다.
- 회원 및 점주를 관리하고, 관리자 권한을 부여하거나 박탈할 수 있습니다.


# 데이터베이스 테이블 구조


## 사용자(User) 테이블
- **설명**: 사용자 정보를 저장하는 테이블

| 필드명       | 데이터 타입      | NULL 허용 | 키       | 설명            |
|--------------|-----------------|-----------|----------|-----------------|
| `id`         | `varchar(255)` | 아니오     | 기본 키   | 사용자 고유 ID  |
| `password`   | `varchar(255)` | 아니오     |          | 비밀번호        |
| `name`       | `varchar(255)` | 아니오     |          | 사용자 이름      |
| `phonenum`   | `varchar(255)` | 예         |          | 전화번호         |
| `role`       | `int(11)`      | 예         |          | 사용자 역할      |
| `email`      | `varchar(255)` | 예         |          | 이메일 주소      |

---

## 가게(Store) 테이블
- **설명**: 가게 정보를 저장하는 테이블

| 필드명        | 데이터 타입      | NULL 허용 | 키       | 설명            |
|---------------|-----------------|-----------|----------|-----------------|
| `id`          | `int(11)`      | 아니오     | 기본 키   | 가게 고유 ID    |
| `title`       | `varchar(255)` | 아니오     |          | 가게 제목        |
| `description` | `varchar(255)` | 아니오     |          | 가게 설명        |
| `photo`       | `varchar(255)` | 아니오     |          | 가게 사진        |
| `num`         | `int(11)`      | 아니오     |          | 가게 번호        |
| `createdtime` | `date`         | 예         |          | 생성 시간        |
| `updatedtime` | `date`         | 예         |          | 수정 시간        |
| `userid`      | `varchar(255)` | 예         | 참조 키   | 사용자 고유 ID   |

---

## 예약(Reservation) 테이블
- **설명**: 예약 정보를 저장하는 테이블

| 필드명    | 데이터 타입      | NULL 허용 | 키       | 설명             |
|-----------|-----------------|-----------|----------|------------------|
| `id`      | `int(11)`      | 아니오     | 기본 키   | 예약 고유 ID     |
| `name`    | `varchar(255)` | 아니오     |          | 예약자 이름       |
| `phone`   | `int(11)`      | 아니오     |          | 예약자 전화번호   |
| `date`    | `varchar(255)` | 아니오     |          | 예약 날짜         |
| `storeid` | `int(11)`      | 아니오     | 참조 키   | 예약된 가게 ID    |
| `userid`  | `varchar(255)` | 아니오     | 참조 키   | 예약자 사용자 ID  |

---

## 키 정보
- **사용자(User) 테이블**
  - 기본 키: `id`

- **가게(Store) 테이블**
  - 기본 키: `id`
  - 참조 키: `userid` (사용자 테이블의 `id` 필드)

- **예약(Reservation) 테이블**
  - 기본 키: `id`
  - 참조 키: 
    - `storeid`: 가게 테이블의 `id` 필드  
    - `userid`: 사용자 테이블의 `id` 필드
